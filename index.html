<!DOCTYPE html>
<html lang="th">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>‡∏ú‡∏•‡∏Å‡∏≤‡∏£‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ï‡∏±‡πâ‡∏á ‡∏™‡∏™. 2569</title>

    <!-- Google Fonts -->
    <link
        href="https://fonts.googleapis.com/css2?family=Noto+Sans+Thai:wght@300;400;500;600;700;800;900&family=IBM+Plex+Mono:wght@400;600;700&display=swap"
        rel="stylesheet">

    <!-- React & ReactDOM from CDN -->
    <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>

    <!-- Babel Standalone for JSX -->
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>

    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            margin: 0;
            padding: 0;
        }

        @keyframes blink {

            0%,
            100% {
                opacity: 1;
            }

            50% {
                opacity: 0.3;
            }
        }
    </style>
</head>

<body>
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect, useCallback } = React;

        const API_URLS = {
            provinces: "https://static-ectreport69.ect.go.th/data/data/refs/info_province.json",
            constituencies: "https://static-ectreport69.ect.go.th/data/data/refs/info_constituency.json",
            parties: "https://static-ectreport69.ect.go.th/data/data/refs/info_party_overview.json",
            mpCandidates: "https://static-ectreport69.ect.go.th/data/data/refs/info_mp_candidate.json",
            partyCandidates: "https://static-ectreport69.ect.go.th/data/data/refs/info_party_candidate.json",
            statsCons: "https://stats-ectreport69.ect.go.th/data/records/stats_cons.json",
            statsParty: "https://stats-ectreport69.ect.go.th/data/records/stats_party.json",
        };

        const STATS = {
            eligible: 52922923,
            cons: { voters: 34632581, good: 31951912, spoiled: 1234047, noVote: 1446622, pct: 65.44 },
            party: { voters: 34565642, good: 31998836, spoiled: 1556201, noVote: 1010605, pct: 65.31 },
            ref: { voters: 34137009, good: 33265306, spoiled: 871703, pct: 64.50, yes: 19882882, no: 10502889, abstain: 2879535 },
            advance: { inZone: 9087, outZone: 1963348, disabled: 1574, total: 1974009 },
            counted: 94,
        };

        const PARTIES = [
            { name: "‡∏†‡∏π‡∏°‡∏¥‡πÉ‡∏à‡πÑ‡∏ó‡∏¢", c: "#1b3a8c", zone: 174, list: 19, listVotes: 5954535 },
            { name: "‡∏õ‡∏£‡∏∞‡∏ä‡∏≤‡∏ä‡∏ô", c: "#f68b1e", zone: 87, list: 31, listVotes: 9777951 },
            { name: "‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÑ‡∏ó‡∏¢", c: "#e3342f", zone: 58, list: 16, listVotes: 5147600 },
            { name: "‡∏Å‡∏•‡πâ‡∏≤‡∏ò‡∏£‡∏£‡∏°", c: "#2d6a4f", zone: 56, list: 2, listVotes: 605059 },
            { name: "‡∏õ‡∏£‡∏∞‡∏ä‡∏≤‡∏ò‡∏¥‡∏õ‡∏±‡∏ï‡∏¢‡πå", c: "#0066cc", zone: 10, list: 12, listVotes: 3651026 },
            { name: "‡πÑ‡∏ó‡∏£‡∏ß‡∏°‡∏û‡∏•‡∏±‡∏á", c: "#e67e22", zone: 5, list: 1, listVotes: 390000 },
            { name: "‡∏õ‡∏£‡∏∞‡∏ä‡∏≤‡∏ä‡∏≤‡∏ï‡∏¥", c: "#10b981", zone: 4, list: 1, listVotes: 350000 },
            { name: "‡∏û‡∏•‡∏±‡∏á‡∏õ‡∏£‡∏∞‡∏ä‡∏≤‡∏£‡∏±‡∏ê", c: "#0047ab", zone: 4, list: 1, listVotes: 320000 },
            { name: "‡πÄ‡∏®‡∏£‡∏©‡∏ê‡∏Å‡∏¥‡∏à", c: "#8b5cf6", zone: 0, list: 3, listVotes: 1045452 },
            { name: "‡∏£‡∏ß‡∏°‡πÑ‡∏ó‡∏¢‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏ä‡∏≤‡∏ï‡∏¥", c: "#2563eb", zone: 0, list: 2, listVotes: 705035 },
            { name: "‡πÑ‡∏ó‡∏¢‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÑ‡∏ó‡∏¢", c: "#dc2626", zone: 1, list: 1, listVotes: 380000 },
            { name: "‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ä‡∏≤‡∏ï‡∏¥‡πÑ‡∏ó‡∏¢", c: "#14b8a6", zone: 0, list: 2, listVotes: 628493 },
            { name: "‡∏£‡∏ß‡∏°‡πÉ‡∏à‡πÑ‡∏ó‡∏¢", c: "#a855f7", zone: 0, list: 1, listVotes: 401772 },
            { name: "‡πÇ‡∏≠‡∏Å‡∏≤‡∏™‡πÉ‡∏´‡∏°‡πà", c: "#6366f1", zone: 1, list: 0, listVotes: 0 },
            { name: "‡πÑ‡∏ó‡∏¢‡∏†‡∏±‡∏Å‡∏î‡∏µ", c: "#b45309", zone: 0, list: 1, listVotes: 290000 },
            { name: "‡πÄ‡∏™‡∏£‡∏µ‡∏£‡∏ß‡∏°‡πÑ‡∏ó‡∏¢", c: "#7c3aed", zone: 0, list: 1, listVotes: 270000 },
        ];

        const IRREGULARITIES = [
            { prov: "‡πÅ‡∏û‡∏£‡πà", zone: 3, type: "‡∏ö‡∏±‡∏ï‡∏£‡πÄ‡∏Ç‡∏¢‡πà‡∏á", detail: "‡∏ú‡∏•‡∏ï‡πà‡∏≤‡∏á‡∏ö‡∏±‡∏ï‡∏£ ‡∏™‡∏™.‡πÄ‡∏Ç‡∏ï ‡∏Å‡∏±‡∏ö‡∏ö‡∏±‡∏ç‡∏ä‡∏µ‡∏£‡∏≤‡∏¢‡∏ä‡∏∑‡πà‡∏≠ ‡∏™‡∏π‡∏á‡∏ñ‡∏∂‡∏á 11,036 ‡πÉ‡∏ö", severity: "high", diff: 11036 },
            { prov: "‡∏®‡∏£‡∏µ‡∏™‡∏∞‡πÄ‡∏Å‡∏©", zone: 6, type: "‡∏ö‡∏±‡∏ï‡∏£‡πÄ‡∏Ç‡∏¢‡πà‡∏á", detail: "‡∏ú‡∏•‡∏ï‡πà‡∏≤‡∏á‡∏ö‡∏±‡∏ï‡∏£ ‡∏™‡∏™.‡πÄ‡∏Ç‡∏ï ‡∏Å‡∏±‡∏ö‡∏ö‡∏±‡∏ç‡∏ä‡∏µ‡∏£‡∏≤‡∏¢‡∏ä‡∏∑‡πà‡∏≠ 10,408 ‡πÉ‡∏ö", severity: "high", diff: 10408 },
            { prov: "‡∏ô‡πà‡∏≤‡∏ô", zone: 2, type: "‡∏ö‡∏±‡∏ï‡∏£‡πÄ‡∏Ç‡∏¢‡πà‡∏á", detail: "‡∏ú‡∏•‡∏ï‡πà‡∏≤‡∏á‡∏ö‡∏±‡∏ï‡∏£ ‡∏™‡∏™.‡πÄ‡∏Ç‡∏ï ‡∏Å‡∏±‡∏ö‡∏ö‡∏±‡∏ç‡∏ä‡∏µ‡∏£‡∏≤‡∏¢‡∏ä‡∏∑‡πà‡∏≠ 8,806 ‡πÉ‡∏ö", severity: "high", diff: 8806 },
            { prov: "‡∏û‡∏±‡∏ó‡∏•‡∏∏‡∏á", zone: 1, type: "‡∏ö‡∏±‡∏ï‡∏£‡πÄ‡∏Ç‡∏¢‡πà‡∏á", detail: "‡∏ú‡∏•‡∏ï‡πà‡∏≤‡∏á‡∏ö‡∏±‡∏ï‡∏£‡∏™‡∏π‡∏á‡∏ú‡∏¥‡∏î‡∏õ‡∏Å‡∏ï‡∏¥ ‡∏ó‡∏±‡πâ‡∏á 2 ‡πÄ‡∏Ç‡∏ï", severity: "high", diff: 7500 },
            { prov: "‡∏û‡∏±‡∏ó‡∏•‡∏∏‡∏á", zone: 2, type: "‡∏ö‡∏±‡∏ï‡∏£‡πÄ‡∏Ç‡∏¢‡πà‡∏á", detail: "‡∏ú‡∏•‡∏ï‡πà‡∏≤‡∏á‡∏ö‡∏±‡∏ï‡∏£‡∏™‡∏π‡∏á‡∏ú‡∏¥‡∏î‡∏õ‡∏Å‡∏ï‡∏¥", severity: "high", diff: 6800 },
            { prov: "‡∏û‡∏¥‡∏à‡∏¥‡∏ï‡∏£", zone: 1, type: "‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô‡πÄ‡∏Å‡∏¥‡∏ô", detail: "‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ‡∏™‡∏¥‡∏ó‡∏ò‡∏¥ 100,830 ‡∏Ñ‡∏ô ‡πÅ‡∏ï‡πà‡∏ú‡∏•‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô‡∏£‡∏ß‡∏° 113,775 ‚Äî ‡πÄ‡∏Å‡∏¥‡∏ô‡∏°‡∏≤ 12,945", severity: "critical", diff: 12945 },
            { prov: "‡∏™‡∏Å‡∏•‡∏ô‡∏Ñ‡∏£", zone: null, type: "‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô‡πÄ‡∏Å‡∏¥‡∏ô", detail: "‡∏ö‡∏≤‡∏á‡∏´‡∏ô‡πà‡∏ß‡∏¢ ‡∏ú‡∏π‡πâ‡∏°‡∏≤‡πÉ‡∏ä‡πâ‡∏™‡∏¥‡∏ó‡∏ò‡∏¥ 440 ‡∏Ñ‡∏ô ‡πÅ‡∏ï‡πà‡∏ö‡∏±‡∏ï‡∏£‡∏ô‡∏±‡∏ö‡πÑ‡∏î‡πâ 545 ‡πÉ‡∏ö ‚Äî ‡πÄ‡∏Å‡∏¥‡∏ô 105 ‡πÉ‡∏ö", severity: "critical", diff: 105 },
            { prov: "‡∏Ç‡∏≠‡∏ô‡πÅ‡∏Å‡πà‡∏ô", zone: 11, type: "‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô‡πÄ‡∏Å‡∏¥‡∏ô", detail: "‡∏ö‡∏±‡∏ï‡∏£‡∏î‡∏µ 74,696 ‡πÉ‡∏ö ‡πÅ‡∏ï‡πà‡∏ú‡∏•‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô‡∏£‡∏ß‡∏° 97,904 ‚Äî ‡πÄ‡∏Å‡∏¥‡∏ô 23,208 ‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô", severity: "critical", diff: 23208 },
            { prov: "‡∏ä‡∏•‡∏ö‡∏∏‡∏£‡∏µ", zone: 1, type: "‡∏´‡∏µ‡∏ö‡∏ö‡∏±‡∏ï‡∏£/‡∏Å‡∏£‡∏∞‡∏ö‡∏ß‡∏ô‡∏Å‡∏≤‡∏£", detail: "‡∏´‡∏µ‡∏ö‡∏ö‡∏±‡∏ï‡∏£‡πÑ‡∏°‡πà‡∏õ‡∏¥‡∏î‡∏ú‡∏ô‡∏∂‡∏Å‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á, ‡∏ô‡∏±‡∏ö‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô‡∏Ç‡∏ì‡∏∞‡πÑ‡∏ü‡∏î‡∏±‡∏ö, ‡∏ú‡∏π‡πâ‡∏°‡∏≤‡πÉ‡∏ä‡πâ‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡πÑ‡∏°‡πà‡∏ï‡∏£‡∏á ‚Äî ‡∏Å‡∏Å‡∏ï.‡∏™‡∏≠‡∏ö‡∏™‡∏ß‡∏ô 2 ‡∏ß‡∏±‡∏ô", severity: "critical", diff: 0 },
            { prov: "‡∏õ‡∏ó‡∏∏‡∏°‡∏ò‡∏≤‡∏ô‡∏µ", zone: 7, type: "‡∏£‡πâ‡∏≠‡∏á‡πÄ‡∏£‡∏µ‡∏¢‡∏ô/‡∏ô‡∏±‡∏ö‡πÉ‡∏´‡∏°‡πà", detail: "‡∏ñ‡∏∏‡∏á‡∏î‡∏≥‡∏õ‡∏¥‡∏î‡∏Å‡∏•‡πâ‡∏≠‡∏á, ‡∏õ‡∏£‡∏∞‡∏ä‡∏≤‡∏ä‡∏ô‡∏õ‡∏£‡∏∞‡∏ó‡πâ‡∏ß‡∏á, ‡∏Å‡∏Å‡∏ï.‡∏™‡∏±‡πà‡∏á‡∏ô‡∏±‡∏ö‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô‡πÉ‡∏´‡∏°‡πà ‚Äî ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏ß‡πà‡∏≤‡∏Ç‡πâ‡∏≤‡∏°‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà", severity: "critical", diff: 0 },
            { prov: "‡∏≠‡∏∏‡∏ö‡∏•‡∏£‡∏≤‡∏ä‡∏ò‡∏≤‡∏ô‡∏µ", zone: null, type: "‡∏ã‡∏∑‡πâ‡∏≠‡πÄ‡∏™‡∏µ‡∏¢‡∏á/‡∏ó‡∏∏‡∏à‡∏£‡∏¥‡∏ï", detail: "We Watch ‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô‡∏û‡∏ö‡πÄ‡∏´‡∏ï‡∏∏‡∏ã‡∏∑‡πâ‡∏≠‡πÄ‡∏™‡∏µ‡∏¢‡∏á", severity: "medium", diff: 0 },
            { prov: "‡∏ö‡∏∏‡∏£‡∏µ‡∏£‡∏±‡∏°‡∏¢‡πå", zone: null, type: "‡∏Å‡∏£‡∏∞‡∏ö‡∏ß‡∏ô‡∏Å‡∏≤‡∏£", detail: "We Watch ‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô‡∏õ‡∏±‡∏ç‡∏´‡∏≤‡∏Å‡∏≤‡∏£‡∏™‡∏±‡∏á‡πÄ‡∏Å‡∏ï‡∏Å‡∏≤‡∏£‡∏ì‡πå‡∏ô‡∏±‡∏ö‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô ‚Äî ‡πÑ‡∏°‡πà‡πÉ‡∏´‡πâ‡∏õ‡∏£‡∏∞‡∏ä‡∏≤‡∏ä‡∏ô‡∏™‡∏±‡∏á‡πÄ‡∏Å‡∏ï‡∏Å‡∏≤‡∏£‡∏ì‡πå", severity: "high", diff: 0 },
            { prov: "‡πÄ‡∏ä‡∏µ‡∏¢‡∏á‡πÉ‡∏´‡∏°‡πà", zone: null, type: "‡∏Å‡∏£‡∏∞‡∏ö‡∏ß‡∏ô‡∏Å‡∏≤‡∏£", detail: "‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô‡∏õ‡∏±‡∏ç‡∏´‡∏≤‡∏Ñ‡∏ß‡∏≤‡∏°‡πÇ‡∏õ‡∏£‡πà‡∏á‡πÉ‡∏™‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡∏ô‡∏±‡∏ö‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô", severity: "medium", diff: 0 },
            { prov: "‡∏û‡∏∞‡πÄ‡∏¢‡∏≤", zone: null, type: "‡∏ã‡∏∑‡πâ‡∏≠‡πÄ‡∏™‡∏µ‡∏¢‡∏á", detail: "‡∏û‡∏ö‡πÄ‡∏´‡∏ï‡∏∏‡∏ã‡∏∑‡πâ‡∏≠‡πÄ‡∏™‡∏µ‡∏¢‡∏á", severity: "medium", diff: 0 },
            { prov: "‡∏ä‡∏±‡∏¢‡∏ô‡∏≤‡∏ó", zone: null, type: "‡∏ö‡∏±‡∏ï‡∏£‡∏´‡∏≤‡∏¢", detail: "‡∏û‡∏ö‡∏ö‡∏±‡∏ï‡∏£‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ï‡∏±‡πâ‡∏á‡∏ñ‡∏π‡∏Å‡∏ó‡∏¥‡πâ‡∏á", severity: "critical", diff: 0 },
            { prov: "‡∏ô‡∏Ñ‡∏£‡∏®‡∏£‡∏µ‡∏ò‡∏£‡∏£‡∏°‡∏£‡∏≤‡∏ä", zone: null, type: "‡∏ã‡∏∑‡πâ‡∏≠‡πÄ‡∏™‡∏µ‡∏¢‡∏á", detail: "‡∏Å‡∏Å‡∏ï.‡∏î‡∏≥‡πÄ‡∏ô‡∏¥‡∏ô‡∏Ñ‡∏î‡∏µ‡∏ã‡∏∑‡πâ‡∏≠‡πÄ‡∏™‡∏µ‡∏¢‡∏á", severity: "medium", diff: 0 },
            { prov: "‡∏£‡∏≤‡∏ä‡∏ö‡∏∏‡∏£‡∏µ", zone: null, type: "‡∏ã‡∏∑‡πâ‡∏≠‡πÄ‡∏™‡∏µ‡∏¢‡∏á", detail: "‡∏Å‡∏Å‡∏ï.‡∏î‡∏≥‡πÄ‡∏ô‡∏¥‡∏ô‡∏Ñ‡∏î‡∏µ‡∏ã‡∏∑‡πâ‡∏≠‡πÄ‡∏™‡∏µ‡∏¢‡∏á ‚Äî ‡πÄ‡∏á‡∏¥‡∏ô‡πÅ‡∏™‡∏ô‡πÅ‡∏à‡∏Å‡∏ß‡πà‡∏≠‡∏ô", severity: "medium", diff: 0 },
            { prov: "‡∏™‡∏∏‡∏£‡∏≤‡∏©‡∏é‡∏£‡πå‡∏ò‡∏≤‡∏ô‡∏µ", zone: null, type: "‡∏ã‡∏∑‡πâ‡∏≠‡πÄ‡∏™‡∏µ‡∏¢‡∏á", detail: "‡∏Å‡∏Å‡∏ï.‡∏î‡∏≥‡πÄ‡∏ô‡∏¥‡∏ô‡∏Ñ‡∏î‡∏µ‡∏ã‡∏∑‡πâ‡∏≠‡πÄ‡∏™‡∏µ‡∏¢‡∏á", severity: "medium", diff: 0 },
            { prov: "‡∏û‡∏¥‡∏©‡∏ì‡∏∏‡πÇ‡∏•‡∏Å", zone: null, type: "‡∏ã‡∏∑‡πâ‡∏≠‡πÄ‡∏™‡∏µ‡∏¢‡∏á", detail: "‡∏Å‡∏Å‡∏ï.‡∏î‡∏≥‡πÄ‡∏ô‡∏¥‡∏ô‡∏Ñ‡∏î‡∏µ‡∏ã‡∏∑‡πâ‡∏≠‡πÄ‡∏™‡∏µ‡∏¢‡∏á", severity: "medium", diff: 0 },
            { prov: "‡∏ä‡∏±‡∏¢‡∏†‡∏π‡∏°‡∏¥", zone: null, type: "‡∏Å‡∏£‡∏∞‡∏ö‡∏ß‡∏ô‡∏Å‡∏≤‡∏£", detail: "‡∏Å‡∏õ‡∏ô.‡πÄ‡∏õ‡∏¥‡∏î‡∏´‡∏µ‡∏ö‡∏ö‡∏±‡∏ï‡∏£‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ï‡∏±‡πâ‡∏á‡∏£‡∏∞‡∏´‡∏ß‡πà‡∏≤‡∏á‡∏£‡∏≠‡∏™‡πà‡∏á", severity: "high", diff: 0 },
        ];

        const fmt = (n) => n?.toLocaleString("th-TH") ?? "‚Äî";
        const pct = (a, b) => b ? ((a / b) * 100).toFixed(1) : "0.0";

        const severityColor = { critical: "#ff4757", high: "#ff6b35", medium: "#ffd166", low: "#4ecdc4" };
        const severityLabel = { critical: "üî¥ ‡∏ß‡∏¥‡∏Å‡∏§‡∏ï", high: "üü† ‡∏™‡∏π‡∏á", medium: "üü° ‡∏õ‡∏≤‡∏ô‡∏Å‡∏•‡∏≤‡∏á", low: "üü¢ ‡∏ï‡πà‡∏≥" };
        const typeEmoji = { "‡∏ö‡∏±‡∏ï‡∏£‡πÄ‡∏Ç‡∏¢‡πà‡∏á": "üìä", "‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô‡πÄ‡∏Å‡∏¥‡∏ô": "‚ö°", "‡∏´‡∏µ‡∏ö‡∏ö‡∏±‡∏ï‡∏£/‡∏Å‡∏£‡∏∞‡∏ö‡∏ß‡∏ô‡∏Å‡∏≤‡∏£": "üì¶", "‡∏£‡πâ‡∏≠‡∏á‡πÄ‡∏£‡∏µ‡∏¢‡∏ô/‡∏ô‡∏±‡∏ö‡πÉ‡∏´‡∏°‡πà": "üîÑ", "‡∏ã‡∏∑‡πâ‡∏≠‡πÄ‡∏™‡∏µ‡∏¢‡∏á/‡∏ó‡∏∏‡∏à‡∏£‡∏¥‡∏ï": "üí∞", "‡∏ã‡∏∑‡πâ‡∏≠‡πÄ‡∏™‡∏µ‡∏¢‡∏á": "üí∞", "‡∏Å‡∏£‡∏∞‡∏ö‡∏ß‡∏ô‡∏Å‡∏≤‡∏£": "‚öôÔ∏è", "‡∏ö‡∏±‡∏ï‡∏£‡∏´‡∏≤‡∏¢": "‚ùå" };

        function App() {
            const [tab, setTab] = useState("overview");
            const [apiStatus, setApiStatus] = useState({});
            const [liveData, setLiveData] = useState(null);
            const [loading, setLoading] = useState(false);
            const [sevFilter, setSevFilter] = useState("all");
            const [typeFilter, setTypeFilter] = useState("all");

            const tryFetchAPIs = useCallback(async () => {
                setLoading(true);
                const st = {};
                const results = {};
                for (const [k, url] of Object.entries(API_URLS)) {
                    try {
                        const r = await fetch(url, { signal: AbortSignal.timeout(8000) });
                        if (!r.ok) throw new Error(r.status);
                        results[k] = await r.json();
                        st[k] = "ok";
                    } catch {
                        st[k] = "fail";
                    }
                }
                setApiStatus(st);
                const anyOk = Object.values(st).some(s => s === "ok");
                if (anyOk) setLiveData(results);
                setLoading(false);
            }, []);

            useEffect(() => { tryFetchAPIs(); }, [tryFetchAPIs]);

            const parties = PARTIES.map(p => ({ ...p, total: p.zone + p.list })).sort((a, b) => b.total - a.total);
            const totalSeats = parties.reduce((s, p) => s + p.total, 0);
            const maxTotal = parties[0]?.total || 1;
            const totalListVotes = parties.reduce((s, p) => s + p.listVotes, 0);

            const ballotDiff = STATS.cons.voters - STATS.party.voters;

            const filteredIrreg = IRREGULARITIES.filter(i =>
                (sevFilter === "all" || i.severity === sevFilter) &&
                (typeFilter === "all" || i.type === typeFilter)
            );
            const critCount = IRREGULARITIES.filter(i => i.severity === "critical").length;
            const highCount = IRREGULARITIES.filter(i => i.severity === "high").length;
            const medCount = IRREGULARITIES.filter(i => i.severity === "medium").length;
            const uniqueProvs = [...new Set(IRREGULARITIES.map(i => i.prov))].length;
            const irregTypes = [...new Set(IRREGULARITIES.map(i => i.type))];

            const tabs = [
                { id: "overview", label: "üìä ‡∏†‡∏≤‡∏û‡∏£‡∏ß‡∏°" },
                { id: "irregularities", label: "‚ö†Ô∏è ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ú‡∏¥‡∏î‡∏õ‡∏Å‡∏ï‡∏¥" },
                { id: "parties", label: "üèõÔ∏è ‡∏ó‡∏µ‡πà‡∏ô‡∏±‡πà‡∏á/‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô" },
                { id: "referendum", label: "üó≥Ô∏è ‡∏õ‡∏£‡∏∞‡∏ä‡∏≤‡∏°‡∏ï‡∏¥" },
                { id: "api", label: "üîå API Status" },
            ];

            return (
                <div style={{ minHeight: "100vh", background: "#06060e", color: "#eaeaf4", fontFamily: "'Noto Sans Thai', 'Inter', sans-serif" }}>
                    <div style={{ textAlign: "center", padding: "3rem 1.5rem 2rem", background: "linear-gradient(180deg,#0e0e1a,#06060e)", position: "relative", overflow: "hidden" }}>
                        <div style={{ position: "absolute", inset: "-50%", background: "radial-gradient(ellipse at 25% 30%,rgba(255,107,53,.06) 0%,transparent 50%),radial-gradient(ellipse at 75% 70%,rgba(78,205,196,.04) 0%,transparent 50%)", animation: "spin 30s linear infinite" }} />
                        <div style={{ position: "relative", zIndex: 1 }}>
                            <div style={{ display: "inline-flex", alignItems: "center", gap: 6, background: "rgba(255,107,53,.1)", border: "1px solid rgba(255,107,53,.25)", padding: "5px 14px", borderRadius: 99, fontSize: ".7rem", fontWeight: 700, color: "#ff6b35", textTransform: "uppercase", letterSpacing: ".1em", marginBottom: "1.2rem" }}>
                                <span style={{ width: 6, height: 6, background: "#ff6b35", borderRadius: "50%", animation: "blink 1.5s ease-in-out infinite" }} /> ‡∏ú‡∏•‡∏≠‡∏¢‡πà‡∏≤‡∏á‡πÑ‡∏°‡πà‡πÄ‡∏õ‡πá‡∏ô‡∏ó‡∏≤‡∏á‡∏Å‡∏≤‡∏£ ‚Äî ‡∏ô‡∏±‡∏ö‡πÅ‡∏•‡πâ‡∏ß 94%
                            </div>
                            <h1 style={{ fontSize: "clamp(2rem,5vw,3.5rem)", fontWeight: 900, lineHeight: 1.15, background: "linear-gradient(135deg,#fff,#a0a0c0)", WebkitBackgroundClip: "text", WebkitTextFillColor: "transparent" }}>
                                ‡∏ú‡∏•‡∏Å‡∏≤‡∏£‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ï‡∏±‡πâ‡∏á ‡∏™‡∏™. 2569
                            </h1>
                            <p style={{ fontSize: ".9rem", color: "#8888aa", fontWeight: 300, marginTop: 4 }}>
                                ‡∏Å‡∏≤‡∏£‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ï‡∏±‡πâ‡∏á‡∏™‡∏°‡∏≤‡∏ä‡∏¥‡∏Å‡∏™‡∏†‡∏≤‡∏ú‡∏π‡πâ‡πÅ‡∏ó‡∏ô‡∏£‡∏≤‡∏©‡∏é‡∏£ 8 ‡∏Å.‡∏û. 2569 ‚Äî ‡∏û‡∏£‡πâ‡∏≠‡∏°‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ú‡∏¥‡∏î‡∏õ‡∏Å‡∏ï‡∏¥
                            </p>
                        </div>
                    </div>

                    <div style={{ display: "grid", gridTemplateColumns: "repeat(auto-fit,minmax(150px,1fr))", gap: 1, background: "#252544" }}>
                        {[
                            { v: fmt(STATS.eligible), l: "‡∏ú‡∏π‡πâ‡∏°‡∏µ‡∏™‡∏¥‡∏ó‡∏ò‡∏¥", c: "#ff6b35" },
                            { v: fmt(STATS.cons.voters), l: "‡∏ú‡∏π‡πâ‡∏°‡∏≤‡πÉ‡∏ä‡πâ‡∏™‡∏¥‡∏ó‡∏ò‡∏¥ (‡πÄ‡∏Ç‡∏ï)", c: "#4ecdc4" },
                            { v: STATS.cons.pct + "%", l: "‡∏≠‡∏±‡∏ï‡∏£‡∏≤‡πÉ‡∏ä‡πâ‡∏™‡∏¥‡∏ó‡∏ò‡∏¥", c: "#fcc419" },
                            { v: fmt(STATS.cons.spoiled), l: "‡∏ö‡∏±‡∏ï‡∏£‡πÄ‡∏™‡∏µ‡∏¢ (‡πÄ‡∏Ç‡∏ï)", c: "#ff6b6b" },
                            { v: fmt(STATS.party.spoiled), l: "‡∏ö‡∏±‡∏ï‡∏£‡πÄ‡∏™‡∏µ‡∏¢ (‡∏ö‡∏±‡∏ç‡∏ä‡∏µ)", c: "#ff6b6b" },
                            { v: IRREGULARITIES.length + " ‡πÄ‡∏£‡∏∑‡πà‡∏≠‡∏á", l: "‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ú‡∏¥‡∏î‡∏õ‡∏Å‡∏ï‡∏¥‡∏ó‡∏µ‡πà‡∏û‡∏ö", c: "#ff4757" },
                        ].map((s, i) => (
                            <div key={i} style={{ background: "#0e0e1a", padding: "1.2rem .8rem", textAlign: "center" }}>
                                <div style={{ fontFamily: "'IBM Plex Mono',monospace", fontSize: "clamp(1.1rem,2.5vw,1.6rem)", fontWeight: 700, color: s.c }}>{s.v}</div>
                                <div style={{ fontSize: ".62rem", color: "#8888aa", marginTop: 3, textTransform: "uppercase", letterSpacing: ".05em", fontWeight: 600 }}>{s.l}</div>
                            </div>
                        ))}
                    </div>

                    <div style={{ display: "flex", gap: 3, padding: "12px 12px 0", background: "#06060e", overflowX: "auto" }}>
                        {tabs.map(t => (
                            <button key={t.id} onClick={() => setTab(t.id)} style={{
                                padding: "8px 16px", borderRadius: "10px 10px 0 0", border: "none",
                                background: tab === t.id ? "#161628" : "transparent",
                                color: tab === t.id ? "#eaeaf4" : "#8888aa",
                                fontFamily: "'Noto Sans Thai',sans-serif", fontSize: ".82rem", fontWeight: tab === t.id ? 700 : 500,
                                cursor: "pointer", whiteSpace: "nowrap", borderBottom: tab === t.id ? "2px solid #ff6b35" : "2px solid transparent",
                            }}>{t.label}</button>
                        ))}
                    </div>

                    <div style={{ maxWidth: 1200, margin: "0 auto", padding: "1.5rem" }}>
                        {tab === "overview" && (
                            <>
                                <Section icon="üìä" title="‡∏™‡∏ñ‡∏¥‡∏ï‡∏¥‡∏ö‡∏±‡∏ï‡∏£‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ï‡∏±‡πâ‡∏á ‚Äî 3 ‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó">
                                    <div style={{ display: "grid", gridTemplateColumns: "repeat(auto-fit,minmax(300px,1fr))", gap: "1rem" }}>
                                        <BallotCard title="‡∏™‡∏™. ‡πÅ‡∏ö‡πà‡∏á‡πÄ‡∏Ç‡∏ï" tag="400 ‡∏ó‡∏µ‡πà‡∏ô‡∏±‡πà‡∏á" color="#ff6b35" data={STATS.cons} eligible={STATS.eligible} />
                                        <BallotCard title="‡∏™‡∏™. ‡∏ö‡∏±‡∏ç‡∏ä‡∏µ‡∏£‡∏≤‡∏¢‡∏ä‡∏∑‡πà‡∏≠" tag="100 ‡∏ó‡∏µ‡πà‡∏ô‡∏±‡πà‡∏á" color="#4ecdc4" data={STATS.party} eligible={STATS.eligible} />
                                        <BallotCard title="‡∏≠‡∏≠‡∏Å‡πÄ‡∏™‡∏µ‡∏¢‡∏á‡∏õ‡∏£‡∏∞‡∏ä‡∏≤‡∏°‡∏ï‡∏¥" tag="‡∏£‡∏ò‡∏ô." color="#b197fc" data={STATS.ref} eligible={STATS.eligible} isRef />
                                    </div>
                                    <InfoBox>‚ö†Ô∏è <b>‡∏ö‡∏±‡∏ï‡∏£‡πÄ‡∏™‡∏µ‡∏¢‡∏ó‡∏∞‡∏•‡∏∏‡∏•‡πâ‡∏≤‡∏ô:</b> ‡πÄ‡∏Ç‡∏ï <b style={{ color: "#ff6b6b" }}>{fmt(STATS.cons.spoiled)}</b> ‡πÉ‡∏ö + ‡∏ö‡∏±‡∏ç‡∏ä‡∏µ‡∏£‡∏≤‡∏¢‡∏ä‡∏∑‡πà‡∏≠ <b style={{ color: "#ff6b6b" }}>{fmt(STATS.party.spoiled)}</b> ‡πÉ‡∏ö = ‡∏£‡∏ß‡∏° <b style={{ color: "#ff6b6b" }}>{fmt(STATS.cons.spoiled + STATS.party.spoiled)}</b> ‡πÉ‡∏ö (We Watch ‡∏ä‡∏µ‡πâ‡πÄ‡∏â‡∏•‡∏µ‡πà‡∏¢ 8.3% ‡∏Ç‡∏≠‡∏á‡∏ö‡∏±‡∏ï‡∏£‡∏ó‡∏±‡πâ‡∏á 2 ‡∏£‡∏π‡∏õ‡πÅ‡∏ö‡∏ö)</InfoBox>
                                    <InfoBox>üìä <b>‡∏ö‡∏±‡∏ï‡∏£‡πÄ‡∏Ç‡∏¢‡πà‡∏á (‡∏ú‡∏•‡∏ï‡πà‡∏≤‡∏á‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ‡∏™‡∏¥‡∏ó‡∏ò‡∏¥ ‡πÄ‡∏Ç‡∏ï vs ‡∏ö‡∏±‡∏ç‡∏ä‡∏µ):</b> ‡∏ú‡∏π‡πâ‡∏°‡∏≤‡πÉ‡∏ä‡πâ‡∏™‡∏¥‡∏ó‡∏ò‡∏¥ ‡∏™‡∏™.‡πÄ‡∏Ç‡∏ï <b>{fmt(STATS.cons.voters)}</b> ‚Äî ‡∏ö‡∏±‡∏ç‡∏ä‡∏µ‡∏£‡∏≤‡∏¢‡∏ä‡∏∑‡πà‡∏≠ <b>{fmt(STATS.party.voters)}</b> ‚Äî ‡∏ï‡πà‡∏≤‡∏á‡∏Å‡∏±‡∏ô <b style={{ color: "#ff6b35" }}>{fmt(ballotDiff)}</b> ‡∏Ñ‡∏ô (‡∏Ñ‡πà‡∏≤‡πÄ‡∏â‡∏•‡∏µ‡πà‡∏¢ ~2,722 ‡∏Ñ‡∏ô/‡∏à‡∏±‡∏á‡∏´‡∏ß‡∏±‡∏î) ‡∏ó‡∏±‡πâ‡∏á‡∏ó‡∏µ‡πà‡∏õ‡∏£‡∏∞‡∏ä‡∏≤‡∏ä‡∏ô‡∏£‡∏±‡∏ö‡∏ö‡∏±‡∏ï‡∏£ 2 ‡πÉ‡∏ö‡∏û‡∏£‡πâ‡∏≠‡∏°‡∏Å‡∏±‡∏ô</InfoBox>
                                </Section>

                                <Section icon="üìà" title="‡πÄ‡∏õ‡∏£‡∏µ‡∏¢‡∏ö‡πÄ‡∏ó‡∏µ‡∏¢‡∏ö‡∏Å‡∏±‡∏ö‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ï‡∏±‡πâ‡∏á 2566">
                                    <div style={{ overflowX: "auto" }}>
                                        <table style={{ width: "100%", borderCollapse: "collapse" }}>
                                            <thead><tr>{["‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£", "2566", "2569", "‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡πÅ‡∏õ‡∏•‡∏á"].map(h => <th key={h} style={{ padding: "8px 10px", textAlign: "left", fontSize: ".65rem", fontWeight: 700, color: "#8888aa", textTransform: "uppercase", letterSpacing: ".06em", background: "#161628", borderBottom: "1px solid #252544" }}>{h}</th>)}</tr></thead>
                                            <tbody>
                                                {[
                                                    ["‡∏≠‡∏±‡∏ï‡∏£‡∏≤‡∏ú‡∏π‡πâ‡∏°‡∏≤‡πÉ‡∏ä‡πâ‡∏™‡∏¥‡∏ó‡∏ò‡∏¥", "75.71%", "65.44%", "‚ñº -10.27%", "#ff6b6b"],
                                                    ["‡∏ú‡∏π‡πâ‡∏°‡∏≤‡πÉ‡∏ä‡πâ‡∏™‡∏¥‡∏ó‡∏ò‡∏¥", "~39.6 ‡∏•‡πâ‡∏≤‡∏ô", "34.6 ‡∏•‡πâ‡∏≤‡∏ô", "‚ñº ~5 ‡∏•‡πâ‡∏≤‡∏ô", "#ff6b6b"],
                                                    ["‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô‡∏ö‡∏±‡∏ç‡∏ä‡∏µ ‡∏õ‡∏ä‡∏ô./‡∏Å‡πâ‡∏≤‡∏ß‡πÑ‡∏Å‡∏•", "14.4 ‡∏•‡πâ‡∏≤‡∏ô", "9.78 ‡∏•‡πâ‡∏≤‡∏ô", "‚ñº -4.6 ‡∏•‡πâ‡∏≤‡∏ô", "#ff6b6b"],
                                                    ["‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô‡∏ö‡∏±‡∏ç‡∏ä‡∏µ ‡∏†‡∏π‡∏°‡∏¥‡πÉ‡∏à‡πÑ‡∏ó‡∏¢", "1.13 ‡∏•‡πâ‡∏≤‡∏ô", "5.95 ‡∏•‡πâ‡∏≤‡∏ô", "‚ñ≤ +4.8 ‡∏•‡πâ‡∏≤‡∏ô", "#51cf66"],
                                                    ["‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô‡∏ö‡∏±‡∏ç‡∏ä‡∏µ ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÑ‡∏ó‡∏¢", "10.96 ‡∏•‡πâ‡∏≤‡∏ô", "5.15 ‡∏•‡πâ‡∏≤‡∏ô", "‚ñº -5.8 ‡∏•‡πâ‡∏≤‡∏ô", "#ff6b6b"],
                                                    ["‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô‡∏ö‡∏±‡∏ç‡∏ä‡∏µ ‡∏õ‡∏£‡∏∞‡∏ä‡∏≤‡∏ò‡∏¥‡∏õ‡∏±‡∏ï‡∏¢‡πå", "0.93 ‡∏•‡πâ‡∏≤‡∏ô", "3.65 ‡∏•‡πâ‡∏≤‡∏ô", "‚ñ≤ +2.7 ‡∏•‡πâ‡∏≤‡∏ô", "#51cf66"],
                                                ].map(([r, a, b, c, cl], i) => (
                                                    <tr key={i} style={{ borderBottom: "1px solid rgba(37,37,68,.4)" }}>
                                                        <td style={{ padding: "8px 10px", fontSize: ".82rem" }}>{r}</td>
                                                        <td style={{ padding: "8px 10px", fontSize: ".78rem", fontFamily: "'IBM Plex Mono',monospace" }}>{a}</td>
                                                        <td style={{ padding: "8px 10px", fontSize: ".78rem", fontFamily: "'IBM Plex Mono',monospace", color: "#ffd166", fontWeight: 700 }}>{b}</td>
                                                        <td style={{ padding: "8px 10px", fontSize: ".78rem", fontFamily: "'IBM Plex Mono',monospace", color: cl, fontWeight: 700 }}>{c}</td>
                                                    </tr>
                                                ))}
                                            </tbody>
                                        </table>
                                    </div>
                                </Section>
                            </>
                        )}

                        {tab === "irregularities" && (
                            <>
                                <Section icon="‚ö†Ô∏è" title={`‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ú‡∏¥‡∏î‡∏õ‡∏Å‡∏ï‡∏¥ ‚Äî ${IRREGULARITIES.length} ‡πÄ‡∏£‡∏∑‡πà‡∏≠‡∏á ‡∏à‡∏≤‡∏Å ${uniqueProvs} ‡∏à‡∏±‡∏á‡∏´‡∏ß‡∏±‡∏î`}>
                                    <div style={{ display: "grid", gridTemplateColumns: "repeat(auto-fit,minmax(180px,1fr))", gap: "1rem", marginBottom: "1.5rem" }}>
                                        {[
                                            { label: "‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ú‡∏¥‡∏î‡∏õ‡∏Å‡∏ï‡∏¥‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î", val: IRREGULARITIES.length + " ‡πÄ‡∏£‡∏∑‡πà‡∏≠‡∏á", sub: `${uniqueProvs} ‡∏à‡∏±‡∏á‡∏´‡∏ß‡∏±‡∏î ‡∏à‡∏≤‡∏Å 77`, c: "#ff6b35" },
                                            { label: "‡∏£‡∏∞‡∏î‡∏±‡∏ö‡∏ß‡∏¥‡∏Å‡∏§‡∏ï üî¥", val: critCount + " ‡πÄ‡∏£‡∏∑‡πà‡∏≠‡∏á", sub: `${pct(critCount, IRREGULARITIES.length)}% ‡∏Ç‡∏≠‡∏á‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î`, c: "#ff4757" },
                                            { label: "‡∏£‡∏∞‡∏î‡∏±‡∏ö‡∏™‡∏π‡∏á üü†", val: highCount + " ‡πÄ‡∏£‡∏∑‡πà‡∏≠‡∏á", sub: `${pct(highCount, IRREGULARITIES.length)}% ‡∏Ç‡∏≠‡∏á‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î`, c: "#ff6b35" },
                                            { label: "‡∏£‡∏∞‡∏î‡∏±‡∏ö‡∏õ‡∏≤‡∏ô‡∏Å‡∏•‡∏≤‡∏á üü°", val: medCount + " ‡πÄ‡∏£‡∏∑‡πà‡∏≠‡∏á", sub: `${pct(medCount, IRREGULARITIES.length)}% ‡∏Ç‡∏≠‡∏á‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î`, c: "#ffd166" },
                                        ].map((c, i) => (
                                            <div key={i} style={{ background: "#0e0e1a", border: "1px solid #252544", borderRadius: 14, padding: "1.2rem", textAlign: "center" }}>
                                                <div style={{ fontFamily: "'IBM Plex Mono',monospace", fontSize: "1.5rem", fontWeight: 700, color: c.c }}>{c.val}</div>
                                                <div style={{ fontSize: ".75rem", fontWeight: 700, color: "#eaeaf4", marginTop: 4 }}>{c.label}</div>
                                                <div style={{ fontSize: ".65rem", color: "#8888aa", marginTop: 2 }}>{c.sub}</div>
                                            </div>
                                        ))}
                                    </div>

                                    <InfoBox>
                                        üìä <b>‡∏™‡∏±‡∏î‡∏™‡πà‡∏ß‡∏ô‡∏à‡∏±‡∏á‡∏´‡∏ß‡∏±‡∏î‡∏ó‡∏µ‡πà‡∏û‡∏ö‡∏õ‡∏±‡∏ç‡∏´‡∏≤:</b> {uniqueProvs} ‡∏à‡∏≤‡∏Å 77 ‡∏à‡∏±‡∏á‡∏´‡∏ß‡∏±‡∏î = <b style={{ color: "#ff6b35" }}>{pct(uniqueProvs, 77)}%</b> ‡∏Ç‡∏≠‡∏á‡∏à‡∏±‡∏á‡∏´‡∏ß‡∏±‡∏î‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î ‚Äî ‡∏Ñ‡∏£‡∏≠‡∏ö‡∏Ñ‡∏•‡∏∏‡∏°‡∏ó‡∏∏‡∏Å‡∏†‡∏π‡∏°‡∏¥‡∏†‡∏≤‡∏Ñ (‡πÄ‡∏´‡∏ô‡∏∑‡∏≠ ‡∏Å‡∏•‡∏≤‡∏á ‡∏≠‡∏µ‡∏™‡∏≤‡∏ô ‡πÉ‡∏ï‡πâ)<br />
                                        üî¥ ‡πÄ‡∏Ç‡∏ï‡∏ó‡∏µ‡πà‡∏°‡∏µ‡∏õ‡∏±‡∏ç‡∏´‡∏≤‡∏£‡∏∞‡∏î‡∏±‡∏ö‡∏ß‡∏¥‡∏Å‡∏§‡∏ï (‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô‡πÄ‡∏Å‡∏¥‡∏ô/‡∏´‡∏µ‡∏ö‡∏ö‡∏±‡∏ï‡∏£‡∏ú‡∏¥‡∏î‡∏õ‡∏Å‡∏ï‡∏¥): <b style={{ color: "#ff4757" }}>{critCount} ‡πÄ‡∏£‡∏∑‡πà‡∏≠‡∏á</b> ‚Äî ‡∏ï‡πâ‡∏≠‡∏á‡∏™‡∏≠‡∏ö‡∏™‡∏ß‡∏ô‡πÄ‡∏£‡πà‡∏á‡∏î‡πà‡∏ß‡∏ô<br />
                                        üìâ ‡∏õ‡∏£‡∏∞‡∏ä‡∏≤‡∏ä‡∏ô <b style={{ color: "#ff6b6b" }}>57.6%</b> ‡πÑ‡∏°‡πà‡∏û‡∏≠‡πÉ‡∏à‡∏Å‡∏≤‡∏£‡∏ó‡∏≥‡∏á‡∏≤‡∏ô ‡∏Å‡∏Å‡∏ï. (We Watch ‡∏™‡∏≥‡∏£‡∏ß‡∏à‡∏´‡∏ô‡πâ‡∏≤‡∏´‡∏ô‡πà‡∏ß‡∏¢)
                                    </InfoBox>

                                    <div style={{ display: "flex", gap: 8, marginTop: "1.5rem", flexWrap: "wrap" }}>
                                        <select value={sevFilter} onChange={e => setSevFilter(e.target.value)} style={selectStyle}>
                                            <option value="all">‡∏ó‡∏∏‡∏Å‡∏£‡∏∞‡∏î‡∏±‡∏ö</option>
                                            <option value="critical">üî¥ ‡∏ß‡∏¥‡∏Å‡∏§‡∏ï</option>
                                            <option value="high">üü† ‡∏™‡∏π‡∏á</option>
                                            <option value="medium">üü° ‡∏õ‡∏≤‡∏ô‡∏Å‡∏•‡∏≤‡∏á</option>
                                        </select>
                                        <select value={typeFilter} onChange={e => setTypeFilter(e.target.value)} style={selectStyle}>
                                            <option value="all">‡∏ó‡∏∏‡∏Å‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó</option>
                                            {irregTypes.map(t => <option key={t} value={t}>{typeEmoji[t] || "üìå"} {t}</option>)}
                                        </select>
                                        <span style={{ fontSize: ".75rem", color: "#8888aa", alignSelf: "center" }}>‡πÅ‡∏™‡∏î‡∏á {filteredIrreg.length} ‡∏à‡∏≤‡∏Å {IRREGULARITIES.length} ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£</span>
                                    </div>

                                    <div style={{ display: "flex", flexDirection: "column", gap: ".75rem", marginTop: "1rem" }}>
                                        {filteredIrreg.map((ir, i) => (
                                            <div key={i} style={{ background: "#0e0e1a", border: `1px solid ${severityColor[ir.severity]}33`, borderLeft: `4px solid ${severityColor[ir.severity]}`, borderRadius: 12, padding: "1rem 1.25rem" }}>
                                                <div style={{ display: "flex", justifyContent: "space-between", alignItems: "center", gap: 8, flexWrap: "wrap" }}>
                                                    <div style={{ display: "flex", alignItems: "center", gap: 8 }}>
                                                        <span style={{ fontSize: "1.1rem" }}>{typeEmoji[ir.type] || "üìå"}</span>
                                                        <span style={{ fontWeight: 700, fontSize: ".9rem" }}>{ir.prov}{ir.zone ? ` ‡πÄ‡∏Ç‡∏ï ${ir.zone}` : ""}</span>
                                                        <span style={{ fontSize: ".6rem", padding: "2px 8px", borderRadius: 5, fontWeight: 700, background: `${severityColor[ir.severity]}22`, color: severityColor[ir.severity] }}>
                                                            {severityLabel[ir.severity]}
                                                        </span>
                                                    </div>
                                                    <span style={{ fontSize: ".65rem", padding: "2px 8px", borderRadius: 5, background: "#161628", color: "#8888aa" }}>{ir.type}</span>
                                                </div>
                                                <p style={{ fontSize: ".8rem", color: "#8888aa", marginTop: 6, lineHeight: 1.6 }}>{ir.detail}</p>
                                                {ir.diff > 0 && <div style={{ marginTop: 6, fontSize: ".7rem", fontFamily: "'IBM Plex Mono',monospace", color: severityColor[ir.severity] }}>‡∏ú‡∏•‡∏ï‡πà‡∏≤‡∏á: {fmt(ir.diff)}</div>}
                                            </div>
                                        ))}
                                    </div>
                                </Section>
                            </>
                        )}

                        {tab === "parties" && (
                            <>
                                <Section icon="üèõÔ∏è" title={`‡∏ó‡∏µ‡πà‡∏ô‡∏±‡πà‡∏á ‡∏™‡∏™. ‡∏£‡∏ß‡∏° ${totalSeats} ‡∏ó‡∏µ‡πà‡∏ô‡∏±‡πà‡∏á ‚Äî 22 ‡∏û‡∏£‡∏£‡∏Ñ‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏†‡∏≤`}>
                                    <div style={{ display: "flex", height: 48, borderRadius: 14, overflow: "hidden", border: "1px solid #252544", marginBottom: "1rem" }}>
                                        {parties.filter(p => p.total > 0).map((p, i) => (
                                            <div key={i} style={{ flex: p.total, background: p.c, display: "flex", alignItems: "center", justifyContent: "center", fontSize: ".58rem", fontWeight: 800, color: "#fff", textShadow: "0 1px 3px rgba(0,0,0,.6)", cursor: "default" }} title={`${p.name}: ${p.total}`}>
                                                {p.total > 8 ? p.total : ""}
                                            </div>
                                        ))}
                                    </div>
                                    <div style={{ display: "flex", flexDirection: "column", gap: ".6rem" }}>
                                        {parties.filter(p => p.total > 0).map((p, i) => (
                                            <div key={i} style={{ display: "grid", gridTemplateColumns: "140px 1fr 70px", gap: 10, alignItems: "center" }}>
                                                <div style={{ fontSize: ".8rem", fontWeight: 600, whiteSpace: "nowrap", overflow: "hidden", textOverflow: "ellipsis" }}>{p.name}</div>
                                                <div style={{ height: 26, background: "#161628", borderRadius: 6, overflow: "hidden" }}>
                                                    <div style={{ height: "100%", width: `${(p.total / maxTotal) * 100}%`, background: p.c, borderRadius: 6, display: "flex", alignItems: "center", paddingLeft: 8, fontSize: ".55rem", fontWeight: 700, color: "#fff", textShadow: "0 1px 2px rgba(0,0,0,.5)", whiteSpace: "nowrap" }}>
                                                        {p.total > 15 ? `${p.zone} ‡πÄ‡∏Ç‡∏ï + ${p.list} ‡∏ö‡∏±‡∏ç‡∏ä‡∏µ` : ""}
                                                    </div>
                                                </div>
                                                <div style={{ textAlign: "right", fontFamily: "'IBM Plex Mono',monospace", fontSize: ".85rem", fontWeight: 700, color: p.c }}>{p.total}</div>
                                            </div>
                                        ))}
                                    </div>
                                </Section>

                                <Section icon="üìã" title="‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô‡∏ö‡∏±‡∏ç‡∏ä‡∏µ‡∏£‡∏≤‡∏¢‡∏ä‡∏∑‡πà‡∏≠ ‚Äî 10 ‡∏≠‡∏±‡∏ô‡∏î‡∏±‡∏ö‡πÅ‡∏£‡∏Å">
                                    <div style={{ display: "grid", gridTemplateColumns: "repeat(auto-fill,minmax(260px,1fr))", gap: ".75rem" }}>
                                        {parties.sort((a, b) => b.listVotes - a.listVotes).filter(p => p.listVotes > 0).slice(0, 10).map((p, i) => (
                                            <div key={i} style={{ background: "#0e0e1a", border: "1px solid #252544", borderRadius: 12, padding: "1rem 1.25rem", display: "flex", alignItems: "center", gap: 12 }}>
                                                <span style={{ fontFamily: "'IBM Plex Mono',monospace", fontSize: ".7rem", color: "#555572", background: "#161628", padding: "3px 7px", borderRadius: 5 }}>#{i + 1}</span>
                                                <div style={{ width: 4, height: 36, borderRadius: 2, background: p.c }} />
                                                <div style={{ flex: 1, minWidth: 0 }}>
                                                    <div style={{ fontSize: ".85rem", fontWeight: 700 }}>{p.name}</div>
                                                    <div style={{ fontSize: ".7rem", color: "#8888aa", fontFamily: "'IBM Plex Mono',monospace" }}>{fmt(p.listVotes)} ‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô</div>
                                                </div>
                                                <div style={{ fontFamily: "'IBM Plex Mono',monospace", fontSize: ".85rem", fontWeight: 700, color: "#4ecdc4" }}>{pct(p.listVotes, totalListVotes)}%</div>
                                            </div>
                                        ))}
                                    </div>
                                </Section>
                            </>
                        )}

                        {tab === "referendum" && (
                            <Section icon="üó≥Ô∏è" title='‡∏ú‡∏•‡∏õ‡∏£‡∏∞‡∏ä‡∏≤‡∏°‡∏ï‡∏¥ ‚Äî "‡∏™‡∏°‡∏Ñ‡∏ß‡∏£‡∏°‡∏µ‡∏£‡∏±‡∏ê‡∏ò‡∏£‡∏£‡∏°‡∏ô‡∏π‡∏ç‡∏â‡∏ö‡∏±‡∏ö‡πÉ‡∏´‡∏°‡πà‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà?"'>
                                <div style={{ display: "flex", gap: "2rem", flexWrap: "wrap", alignItems: "center" }}>
                                    <svg width="180" height="180" viewBox="0 0 180 180" style={{ transform: "rotate(-90deg)" }}>
                                        <circle cx="90" cy="90" r="72" fill="none" stroke="#161628" strokeWidth="20" />
                                        <circle cx="90" cy="90" r="72" fill="none" stroke="#51cf66" strokeWidth="20" strokeDasharray={`${0.598 * 452.4} ${452.4}`} strokeLinecap="round" />
                                        <circle cx="90" cy="90" r="72" fill="none" stroke="#ff6b6b" strokeWidth="20" strokeDasharray={`${0.316 * 452.4} ${452.4}`} strokeDashoffset={`${-0.598 * 452.4}`} strokeLinecap="round" />
                                        <circle cx="90" cy="90" r="72" fill="none" stroke="#ffd166" strokeWidth="20" strokeDasharray={`${0.087 * 452.4} ${452.4}`} strokeDashoffset={`${-(0.598 + 0.316) * 452.4}`} strokeLinecap="round" />
                                    </svg>
                                    <div style={{ display: "flex", flexDirection: "column", gap: ".6rem", flex: 1 }}>
                                        {[
                                            { label: "‡πÄ‡∏´‡πá‡∏ô‡∏ä‡∏≠‡∏ö", val: STATS.ref.yes, c: "#51cf66", p: "59.8%" },
                                            { label: "‡πÑ‡∏°‡πà‡πÄ‡∏´‡πá‡∏ô‡∏ä‡∏≠‡∏ö", val: STATS.ref.no, c: "#ff6b6b", p: "31.6%" },
                                            { label: "‡πÑ‡∏°‡πà‡πÅ‡∏™‡∏î‡∏á‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏´‡πá‡∏ô", val: STATS.ref.abstain, c: "#ffd166", p: "8.7%" },
                                        ].map((r, i) => (
                                            <div key={i} style={{ display: "flex", alignItems: "center", gap: 10 }}>
                                                <div style={{ width: 12, height: 12, borderRadius: 3, background: r.c }} />
                                                <div style={{ flex: 1, fontSize: ".85rem" }}>{r.label}</div>
                                                <div style={{ fontFamily: "'IBM Plex Mono',monospace", fontSize: ".85rem", fontWeight: 700, color: r.c }}>{fmt(r.val)} ({r.p})</div>
                                            </div>
                                        ))}
                                        <div style={{ marginTop: ".5rem", padding: ".75rem", background: "#0e0e1a", borderRadius: 10, border: "1px solid #252544", fontSize: ".78rem", color: "#8888aa" }}>
                                            ‡∏ú‡∏π‡πâ‡∏°‡∏≤‡πÉ‡∏ä‡πâ‡∏™‡∏¥‡∏ó‡∏ò‡∏¥ <b style={{ color: "#eaeaf4" }}>{fmt(STATS.ref.voters)}</b> (64.50%) | ‡∏ö‡∏±‡∏ï‡∏£‡∏î‡∏µ <b style={{ color: "#51cf66" }}>{fmt(STATS.ref.good)}</b> | ‡∏ö‡∏±‡∏ï‡∏£‡πÄ‡∏™‡∏µ‡∏¢ <b style={{ color: "#ff6b6b" }}>{fmt(STATS.ref.spoiled)}</b>
                                        </div>
                                        <InfoBox>üìç <b>7 ‡∏à‡∏±‡∏á‡∏´‡∏ß‡∏±‡∏î‡∏†‡∏≤‡∏Ñ‡πÉ‡∏ï‡πâ</b>‡∏ó‡∏µ‡πà‡πÑ‡∏°‡πà‡πÄ‡∏´‡πá‡∏ô‡∏ä‡∏≠‡∏ö‡∏°‡∏≤‡∏Å‡∏Å‡∏ß‡πà‡∏≤: ‡∏ä‡∏∏‡∏°‡∏û‡∏£, ‡∏£‡∏∞‡∏ô‡∏≠‡∏á, ‡∏û‡∏±‡∏á‡∏á‡∏≤, ‡∏™‡∏∏‡∏£‡∏≤‡∏©‡∏é‡∏£‡πå‡∏ò‡∏≤‡∏ô‡∏µ, ‡∏ï‡∏£‡∏±‡∏á, ‡∏û‡∏±‡∏ó‡∏•‡∏∏‡∏á, ‡∏ô‡∏Ñ‡∏£‡∏®‡∏£‡∏µ‡∏ò‡∏£‡∏£‡∏°‡∏£‡∏≤‡∏ä</InfoBox>
                                    </div>
                                </div>
                            </Section>
                        )}

                        {tab === "api" && (
                            <Section icon="üîå" title="‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞ API ‚Äî ‡∏î‡∏∂‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• Real-time ‡∏à‡∏≤‡∏Å ‡∏Å‡∏Å‡∏ï.">
                                <InfoBox>‡∏£‡∏∞‡∏ö‡∏ö‡∏à‡∏∞‡∏û‡∏¢‡∏≤‡∏¢‡∏≤‡∏°‡∏î‡∏∂‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏™‡∏î‡∏à‡∏≤‡∏Å 7 API endpoints ‡∏Ç‡∏≠‡∏á ‡∏Å‡∏Å‡∏ï. ‡∏ó‡∏∏‡∏Å‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡∏ó‡∏µ‡πà‡πÇ‡∏´‡∏•‡∏î‡∏´‡∏ô‡πâ‡∏≤ ‡∏´‡∏≤‡∏Å API ‡πÄ‡∏õ‡∏¥‡∏î‡πÉ‡∏´‡πâ‡πÄ‡∏Ç‡πâ‡∏≤‡∏ñ‡∏∂‡∏á ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏à‡∏∞‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥ ‡∏ñ‡πâ‡∏≤‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ ‡∏à‡∏∞‡πÉ‡∏ä‡πâ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏•‡πà‡∏≤‡∏™‡∏∏‡∏î‡∏ó‡∏µ‡πà‡∏°‡∏µ (10 ‡∏Å.‡∏û. 2569)</InfoBox>
                                <div style={{ display: "flex", flexDirection: "column", gap: ".5rem", marginTop: "1rem" }}>
                                    {Object.entries(API_URLS).map(([k, url]) => (
                                        <div key={k} style={{ display: "flex", alignItems: "center", gap: 10, padding: ".75rem 1rem", background: "#0e0e1a", border: "1px solid #252544", borderRadius: 10 }}>
                                            <span style={{ width: 10, height: 10, borderRadius: "50%", background: apiStatus[k] === "ok" ? "#51cf66" : apiStatus[k] === "fail" ? "#ff6b6b" : "#ffd166", flexShrink: 0 }} />
                                            <span style={{ fontSize: ".75rem", fontWeight: 600, minWidth: 120 }}>{k}</span>
                                            <span style={{ fontSize: ".65rem", color: "#555572", flex: 1, overflow: "hidden", textOverflow: "ellipsis", whiteSpace: "nowrap" }}>{url}</span>
                                            <span style={{ fontSize: ".65rem", fontWeight: 700, color: apiStatus[k] === "ok" ? "#51cf66" : apiStatus[k] === "fail" ? "#ff6b6b" : "#ffd166" }}>
                                                {apiStatus[k] === "ok" ? "‚úì ‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏ï‡πà‡∏≠‡πÑ‡∏î‡πâ" : apiStatus[k] === "fail" ? "‚úó 403/‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ" : "‚ü≥ ‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏•‡∏≠‡∏á..."}
                                            </span>
                                        </div>
                                    ))}
                                </div>
                                <button onClick={tryFetchAPIs} disabled={loading} style={{ marginTop: "1rem", padding: ".7rem 2rem", borderRadius: 10, border: "none", background: "#ff6b35", color: "#fff", fontFamily: "'Noto Sans Thai',sans-serif", fontSize: ".85rem", fontWeight: 600, cursor: "pointer", opacity: loading ? .5 : 1 }}>
                                    {loading ? "‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏•‡∏≠‡∏á..." : "üîÑ ‡∏•‡∏≠‡∏á‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏ï‡πà‡∏≠‡πÉ‡∏´‡∏°‡πà"}
                                </button>
                                {liveData && <InfoBox>‚úÖ ‡∏°‡∏µ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• live ‡∏ö‡∏≤‡∏á‡∏™‡πà‡∏ß‡∏ô! ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö console ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö raw data</InfoBox>}
                            </Section>
                        )}
                    </div>

                    <div style={{ textAlign: "center", padding: "2rem 1rem", borderTop: "1px solid #252544", color: "#555572", fontSize: ".7rem" }}>
                        <p>‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏à‡∏≤‡∏Å <a href="https://ectreport69.ect.go.th" target="_blank" rel="noopener" style={{ color: "#4ecdc4", textDecoration: "none" }}>ectreport69.ect.go.th</a> ‚Äî ‡∏Å‡∏Å‡∏ï. | ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ú‡∏¥‡∏î‡∏õ‡∏Å‡∏ï‡∏¥‡∏à‡∏≤‡∏Å The Active, Rocket Media Lab, We Watch, ‡∏™‡∏∑‡πà‡∏≠‡∏°‡∏ß‡∏•‡∏ä‡∏ô</p>
                        <p style={{ marginTop: 4 }}>‡∏ú‡∏•‡∏≠‡∏¢‡πà‡∏≤‡∏á‡πÑ‡∏°‡πà‡πÄ‡∏õ‡πá‡∏ô‡∏ó‡∏≤‡∏á‡∏Å‡∏≤‡∏£ ‡∏ô‡∏±‡∏ö‡πÅ‡∏•‡πâ‡∏ß 94% ‚Äî ‡∏Å‡∏Å‡∏ï. ‡∏à‡∏∞‡∏õ‡∏£‡∏∞‡∏Å‡∏≤‡∏®‡∏£‡∏±‡∏ö‡∏£‡∏≠‡∏á‡∏ú‡∏•‡∏†‡∏≤‡∏¢‡πÉ‡∏ô 60 ‡∏ß‡∏±‡∏ô</p>
                    </div>
                </div>
            );
        }

        const selectStyle = {
            background: "#0e0e1a", border: "1px solid #252544", color: "#eaeaf4",
            fontFamily: "'Noto Sans Thai',sans-serif", fontSize: ".8rem", padding: "6px 12px",
            borderRadius: 8, outline: "none", cursor: "pointer",
        };

        function Section({ icon, title, children }) {
            return (
                <div style={{ marginBottom: "2.5rem" }}>
                    <div style={{ display: "flex", alignItems: "center", gap: 8, fontSize: "1.1rem", fontWeight: 800, marginBottom: "1.2rem", paddingBottom: ".8rem", borderBottom: "1px solid #252544", flexWrap: "wrap" }}>
                        <span>{icon}</span> {title}
                    </div>
                    {children}
                </div>
            );
        }

        function InfoBox({ children }) {
            return (
                <div style={{ background: "#0e0e1a", border: "1px solid #252544", borderRadius: 14, padding: "1rem 1.25rem", marginTop: ".75rem" }}>
                    <p style={{ fontSize: ".8rem", color: "#8888aa", lineHeight: 1.7 }}>{children}</p>
                </div>
            );
        }

        function BallotCard({ title, tag, color, data, eligible, isRef }) {
            const spoiledPct = data.voters ? ((data.spoiled / data.voters) * 100).toFixed(1) : "0";
            const goodPct = data.voters ? ((data.good / data.voters) * 100).toFixed(1) : "0";
            return (
                <div style={{ background: "#0e0e1a", border: "1px solid #252544", borderRadius: 16, padding: "1.25rem", borderTop: `3px solid ${color}` }}>
                    <div style={{ fontSize: ".9rem", fontWeight: 700, marginBottom: ".75rem", display: "flex", alignItems: "center", gap: 8 }}>
                        {title}
                        <span style={{ fontSize: ".58rem", padding: "2px 8px", borderRadius: 5, fontWeight: 700, background: `${color}22`, color }}>{tag}</span>
                    </div>
                    {[
                        ["‡∏ú‡∏π‡πâ‡∏°‡∏≤‡πÉ‡∏ä‡πâ‡∏™‡∏¥‡∏ó‡∏ò‡∏¥", `${fmt(data.voters)} ‡∏Ñ‡∏ô`, true],
                        ["‡∏Ñ‡∏¥‡∏î‡πÄ‡∏õ‡πá‡∏ô", `${data.pct}%`, true],
                        ["‡∏ö‡∏±‡∏ï‡∏£‡∏î‡∏µ", `${fmt(data.good)} ‡πÉ‡∏ö (${goodPct}%)`, false, "#51cf66"],
                        ["‡∏ö‡∏±‡∏ï‡∏£‡πÄ‡∏™‡∏µ‡∏¢" + (isRef ? "‡∏ó‡∏±‡πâ‡∏á‡∏â‡∏ö‡∏±‡∏ö" : ""), `${fmt(data.spoiled)} ‡πÉ‡∏ö (${spoiledPct}%)`, false, "#ff6b6b"],
                        ...(!isRef && data.noVote != null ? [["‡∏ö‡∏±‡∏ï‡∏£‡πÑ‡∏°‡πà‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ú‡∏π‡πâ‡πÉ‡∏î", `${fmt(data.noVote)} ‡πÉ‡∏ö`, false]] : []),
                    ].map(([k, v, hl, c], i) => (
                        <div key={i} style={{ display: "flex", justifyContent: "space-between", padding: ".4rem 0", borderBottom: "1px solid rgba(37,37,68,.4)", fontSize: ".82rem" }}>
                            <span style={{ color: "#8888aa" }}>{k}</span>
                            <span style={{ fontFamily: "'IBM Plex Mono',monospace", fontWeight: 700, color: c || (hl ? "#ffd166" : "#eaeaf4"), textAlign: "right" }}>{v}</span>
                        </div>
                    ))}
                    <div style={{ display: "flex", height: 8, borderRadius: 4, overflow: "hidden", background: "#161628", marginTop: ".75rem" }}>
                        <div style={{ width: `${goodPct}%`, background: "#51cf66" }} />
                        <div style={{ width: `${spoiledPct}%`, background: "#ff6b6b" }} />
                        {!isRef && <div style={{ width: `${100 - parseFloat(goodPct) - parseFloat(spoiledPct)}%`, background: "#ffd166" }} />}
                    </div>
                </div>
            );
        }

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<App />);
    </script>
</body>

</html>